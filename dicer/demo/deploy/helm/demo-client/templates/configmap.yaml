# ConfigMap for demo-client application configuration.
#
# This ConfigMap stores the JSON configuration that is mounted into the demo-client pod
# and consumed via the DB_CONF environment variable.
#
# Configuration values:
# - When tls.enabled=true: Includes paths to TLS certificate, key, and CA files for mTLS

apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.labels.app }}-config
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "demo-common.labels" . | nindent 4 }}
data:
  config.json: |
    {
      {{- if .Values.tls.enabled }}
      {{- include "demo-common.tls.configJson" . | nindent 6 }}
      {{- end }}
    }
